<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SWOT ì „ëµ ë¶„ì„ê¸° | íŒŒë€ë©</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/core.js" defer></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700;900&display=swap');
        body { font-family: 'Pretendard', sans-serif; }
        .swot-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
        @media (max-width: 640px) { .swot-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body class="bg-slate-50">
    <div id="root">
        <div id="swot-app" class="max-w-4xl mx-auto py-10 px-4"></div>
    </div>

    <script type="text/babel">
        const { useState } = React;

        function SwotApp() {
            const [step, setStep] = useState(1);
            const [subject, setSubject] = useState("");
            const [data, setData] = useState({ s: "", w: "", o: "", t: "" });
            const [strategies, setStrategies] = useState({ so: "", st: "", wo: "", wt: "" });

            const sections = [
                { id: 's', title: 'ë‚˜ì˜ ê°•ì  (Strengths)', desc: 'ë‚´ê°€ ê°€ì§„ ë¬´ê¸°, ì¥ì ', color: 'bg-emerald-50', border: 'border-emerald-200', text: 'text-emerald-700' },
                { id: 'w', title: 'ë‚˜ì˜ ì•½ì  (Weaknesses)', desc: 'ë¶€ì¡±í•œ ì , ë³´ì™„í•  ì ', color: 'bg-red-50', border: 'border-red-200', text: 'text-red-700' },
                { id: 'o', title: 'ì£¼ë³€ì˜ ê¸°íšŒ (Opportunities)', desc: 'ë‚˜ì—ê²Œ ìœ ë¦¬í•œ ì™¸ë¶€ ìƒí™©', color: 'bg-blue-50', border: 'border-blue-200', text: 'text-blue-700' },
                { id: 't', title: 'ì£¼ë³€ì˜ ìœ„í˜‘ (Threats)', desc: 'ë‚˜ë¥¼ ë°©í•´í•˜ëŠ” ì™¸ë¶€ ìš”ì¸', color: 'bg-amber-50', border: 'border-amber-200', text: 'text-amber-700' }
            ];

            // HTML ì €ì¥ í•¨ìˆ˜ (AHPì™€ ë™ì¼í•œ ë¡œì§)
            const saveAsHtml = () => {
                const htmlContent = `
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <meta charset="UTF-8">
                        <title>íŒŒë€ë© SWOT ë¶„ì„ ë³´ê³ ì„œ</title>
                        <style>
                            body { font-family: sans-serif; padding: 40px; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; }
                            h1 { font-size: 24px; border-bottom: 4px solid #10b981; padding-bottom: 10px; }
                            .strategy-box { padding: 20px; border-radius: 15px; margin-bottom: 15px; background: #f8fafc; border: 1px solid #e2e8f0; }
                            .strategy-title { font-weight: bold; color: #059669; margin-bottom: 5px; }
                            .footer { font-size: 12px; color: #999; margin-top: 40px; text-align: center; }
                        </style>
                    </head>
                    <body>
                        <h1>ğŸ“‹ SWOT ì „ëµ ë¶„ì„ ë³´ê³ ì„œ</h1>
                        <p><strong>ë¶„ì„ ì£¼ì œ:</strong> ${subject || "ë¯¸ì •"}</p>
                        <div style="margin-top: 30px;">
                            <div class="strategy-box"><div class="strategy-title">ê°•ì ìœ¼ë¡œ ê¸°íšŒ ì¡ê¸°</div>${strategies.so || "ë¯¸ì‘ì„±"}</div>
                            <div class="strategy-box"><div class="strategy-title">ê°•ì ìœ¼ë¡œ ìœ„í˜‘ ëŒíŒŒ</div>${strategies.st || "ë¯¸ì‘ì„±"}</div>
                            <div class="strategy-box"><div class="strategy-title">ì•½ì  ë³´ì™„í•˜ì—¬ ê¸°íšŒ ì¡ê¸°</div>${strategies.wo || "ë¯¸ì‘ì„±"}</div>
                            <div class="strategy-box"><div class="strategy-title">ìœ„í—˜ í”¼í•˜ê¸° ë° ë°©ì–´</div>${strategies.wt || "ë¯¸ì‘ì„±"}</div>
                        </div>
                        <div class="footer">Â© 2025 Paran Lab. í˜„ëª…í•œ ì„ íƒì„ ë•ìŠµë‹ˆë‹¤.</div>
                    </body>
                    </html>
                `;
                const blob = new Blob([htmlContent], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `swot_report_${new Date().getTime()}.html`;
                a.click();
            };

            // í…ìŠ¤íŠ¸ ë³µì‚¬ í•¨ìˆ˜ (AHPì™€ ë™ì¼í•œ ë¡œì§)
            const copyToClipboard = () => {
                const text = `[íŒŒë€ë© SWOT ë¶„ì„ ë³´ê³ ì„œ]\nì£¼ì œ: ${subject || "ë¯¸ì •"}\n\n` +
                    `1. ê°•ì ìœ¼ë¡œ ê¸°íšŒ ì¡ê¸°: ${strategies.so}\n` +
                    `2. ê°•ì ìœ¼ë¡œ ìœ„í˜‘ ëŒíŒŒ: ${strategies.st}\n` +
                    `3. ì•½ì  ë³´ì™„í•˜ì—¬ ê¸°íšŒ ì¡ê¸°: ${strategies.wo}\n` +
                    `4. ìœ„í—˜ í”¼í•˜ê¸° ë° ë°©ì–´: ${strategies.wt}\n\n` +
                    `í˜„ëª…í•œ ì„ íƒì„ ë•ëŠ” íŒŒë€ë©(paranlab.com)`;
                navigator.clipboard.writeText(text).then(() => alert("ê²°ê³¼ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!"));
            };

            return (
                <div className="animate-in fade-in duration-500">
                    {/* STEP 1: ì£¼ì œ ì„¤ì • */}
                    {step === 1 && (
                        <div className="bg-white p-10 rounded-[3rem] shadow-2xl border border-slate-100 max-w-2xl mx-auto">
                            <h2 className="text-3xl font-black text-slate-900 mb-4">ë¬´ì—‡ì„ ë¶„ì„í• ê¹Œìš”?</h2>
                            <input value={subject} onChange={(e)=>setSubject(e.target.value)} placeholder="ì˜ˆ: ì¹´í˜ ì°½ì—… ì „ëµ, ë‚˜ì˜ ì´ì§ ê²½ìŸë ¥" className="w-full p-6 bg-slate-50 border-4 border-transparent focus:border-emerald-500 rounded-[2rem] outline-none text-xl font-black transition-all" />
                            <button onClick={()=>setStep(2)} className="w-full mt-10 py-6 bg-emerald-600 text-white rounded-[2rem] font-black text-xl shadow-xl shadow-emerald-200">ì‹œì‘í•˜ê¸°</button>
                        </div>
                    )}

                    {/* STEP 2: ìƒí™© ì§„ë‹¨ */}
                    {step === 2 && (
                        <div className="space-y-8">
                            <div className="bg-white p-8 rounded-[2.5rem] shadow-xl border border-slate-100">
                                <h2 className="text-2xl font-black text-slate-900 mb-6">í˜„ì¬ ìƒí™©ì„ ì ì–´ì£¼ì„¸ìš”</h2>
                                <div className="swot-grid">
                                    {sections.map(s => (
                                        <div key={s.id} className={`${s.color} p-6 rounded-[2rem] border-2 ${s.border}`}>
                                            <h3 className={`font-black ${s.text} mb-1`}>{s.title}</h3>
                                            <p className="text-[10px] text-slate-400 mb-4 uppercase font-bold tracking-widest">{s.desc}</p>
                                            <textarea value={data[s.id]} onChange={(e)=>setData({...data, [s.id]: e.target.value})} className="w-full h-32 bg-white/60 rounded-2xl p-4 outline-none focus:ring-4 ring-white/50 resize-none text-sm font-medium" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”..." />
                                        </div>
                                    ))}
                                </div>
                            </div>
                            <div className="flex gap-4">
                                <button onClick={()=>setStep(1)} className="flex-1 py-6 bg-slate-100 text-slate-400 rounded-[2rem] font-black text-xl">ì´ì „</button>
                                <button onClick={()=>setStep(3)} className="flex-1 py-6 bg-emerald-600 text-white rounded-[2rem] font-black text-xl shadow-xl shadow-emerald-200">ì „ëµ ì„¸ìš°ê¸°</button>
                            </div>
                        </div>
                    )}

                    {/* STEP 3: ì „ëµ ë„ì¶œ ë° ì €ì¥ */}
                    {step === 3 && (
                        <div className="space-y-8">
                            <div className="bg-white p-10 rounded-[3rem] shadow-2xl border border-slate-100">
                                <h2 className="text-3xl font-black text-slate-900 mb-2">ì–´ë–»ê²Œ í–‰ë™í•˜ë©´ ì¢‹ì„ê¹Œìš”?</h2>
                                <p className="text-slate-500 mb-10 font-medium">ì‘ì„±í•˜ì‹  ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ í•´ê²°ì±…ì„ ì •ë¦¬í•´ë³´ì„¸ìš”.</p>
                                
                                <div className="space-y-6">
                                    <div className="p-8 bg-emerald-600 rounded-[2.5rem] text-white shadow-xl shadow-emerald-100">
                                        <h3 className="text-xl font-black mb-2">1. ê°•ì ìœ¼ë¡œ ê¸°íšŒ ì¡ê¸°</h3>
                                        <textarea value={strategies.so} onChange={(e)=>setStrategies({...strategies, so: e.target.value})} className="w-full h-24 bg-white/10 rounded-2xl p-4 outline-none focus:ring-4 ring-white/20 font-bold" placeholder="ë‚˜ì˜ ì¥ì ì„ ì–´ë–»ê²Œ í™œìš©í• ê¹Œìš”?" />
                                    </div>
                                    <div className="p-8 bg-blue-600 rounded-[2.5rem] text-white shadow-xl shadow-blue-100">
                                        <h3 className="text-xl font-black mb-2">2. ê°•ì ìœ¼ë¡œ ìœ„í˜‘ ëŒíŒŒ</h3>
                                        <textarea value={strategies.st} onChange={(e)=>setStrategies({...strategies, st: e.target.value})} className="w-full h-24 bg-white/10 rounded-2xl p-4 outline-none focus:ring-4 ring-white/20 font-bold" placeholder="ì¥ì ìœ¼ë¡œ ì™¸ë¶€ì˜ ì–´ë ¤ì›€ì„ ì–´ë–»ê²Œ ì´ê²¨ë‚¼ê¹Œìš”?" />
                                    </div>
                                    <div className="p-8 bg-amber-500 rounded-[2.5rem] text-white shadow-xl shadow-amber-100">
                                        <h3 className="text-xl font-black mb-2">3. ì•½ì  ë³´ì™„í•˜ì—¬ ê¸°íšŒ ì¡ê¸°</h3>
                                        <textarea value={strategies.wo} onChange={(e)=>setStrategies({...strategies, wo: e.target.value})} className="w-full h-24 bg-white/10 rounded-2xl p-4 outline-none focus:ring-4 ring-white/20 font-bold" placeholder="ê¸°íšŒë¥¼ ì¡ê¸° ìœ„í•´ ë¬´ì—‡ì„ ë³´ì™„í•´ì•¼ í• ê¹Œìš”?" />
                                    </div>
                                    <div className="p-8 bg-slate-800 rounded-[2.5rem] text-white shadow-xl shadow-slate-200">
                                        <h3 className="text-xl font-black mb-2">4. ìœ„í—˜ í”¼í•˜ê¸° ë° ë°©ì–´</h3>
                                        <textarea value={strategies.wt} onChange={(e)=>setStrategies({...strategies, wt: e.target.value})} className="w-full h-24 bg-white/10 rounded-2xl p-4 outline-none focus:ring-4 ring-white/20 font-bold" placeholder="ìµœì•…ì˜ ìƒí™©ì„ í”¼í•˜ê¸° ìœ„í•´ ë¬´ì—‡ì„ ì¡°ì‹¬í•´ì•¼ í• ê¹Œìš”?" />
                                    </div>
                                </div>
                            </div>

                            <div className="grid grid-cols-1 gap-4">
                                <button onClick={saveAsHtml} className="py-6 bg-slate-900 text-white rounded-[2rem] font-black text-xl shadow-xl">ê²°ê³¼ ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ (.html)</button>
                                <button onClick={copyToClipboard} className="py-6 bg-emerald-600 text-white rounded-[2rem] font-black text-xl shadow-xl">í…ìŠ¤íŠ¸ ê²°ê³¼ ë³µì‚¬í•˜ê¸°</button>
                                <button onClick={()=>setStep(2)} className="py-6 bg-slate-100 text-slate-400 rounded-[2rem] font-black text-xl">ë‹¤ì‹œ ìˆ˜ì •í•˜ê¸°</button>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        ReactDOM.createRoot(document.getElementById('swot-app')).render(<SwotApp />);
    </script>
</body>
</html>
