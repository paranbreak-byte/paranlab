<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„ | ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì • ê°€ì´ë“œ | íŒŒë€ë©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/core.js" defer></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700;900&display=swap');
        body { font-family: 'Pretendard', sans-serif; background-color: #f8fafc; }
        .scenario-card { animation: fadeIn 0.7s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="header-root"></div>
    
    <main class="max-w-4xl mx-auto py-16 px-6" id="scenario-content">
        <!-- ë¡œë”© í‘œì‹œ -->
        <div class="flex items-center justify-center min-h-[50vh]">
            <div class="text-center">
                <div class="inline-block w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"></div>
                <p class="text-slate-500 font-bold">ì‹œë‚˜ë¦¬ì˜¤ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
            </div>
        </div>
    </main>

    <div id="footer-root"></div>

    <script>
        // core.jsê°€ ë¡œë“œëœ í›„ ì‹¤í–‰ë˜ë„ë¡ ë³´ì¥
        window.addEventListener('DOMContentLoaded', () => {
            const checkCore = setInterval(() => {
                if (window.ParanLabCore && window.ParanLabCore.scenariosList) {
                    clearInterval(checkCore);
                    renderPage();
                }
            }, 100);
        });

        function renderPage() {
            const urlParams = new URLSearchParams(window.location.search);
            const scenarioId = urlParams.get('id') || 'career';
            const scenario = window.ParanLabCore.scenariosList.find(s => s.id === scenarioId);
            
            if (!scenario) {
                document.getElementById('scenario-content').innerHTML = `<div class="text-center py-20"><h2 class="text-2xl font-black text-slate-800">ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</h2><a href="/" class="text-blue-600 font-bold underline mt-4 block">í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</a></div>`;
                return;
            }

            const tools = scenario.tools.map(tId => window.ParanLabCore.toolsList.find(t => t.id === tId));

            document.getElementById('scenario-content').innerHTML = `
                <div class="bg-white p-10 md:p-16 rounded-[3rem] shadow-2xl border border-slate-100 mb-12 scenario-card">
                    <div class="text-6xl mb-8">${scenario.icon}</div>
                    <span class="text-blue-600 font-black text-sm uppercase tracking-widest mb-2 block">${scenario.title} Case Study</span>
                    <h1 class="text-4xl md:text-5xl font-black text-slate-900 mb-6 tracking-tight">${scenario.subtitle}</h1>
                    
                    <div class="prose prose-slate text-slate-600 text-lg leading-relaxed mb-12">
                        <p class="bg-slate-50 p-8 rounded-3xl border-l-8 border-blue-600 italic">"${scenario.story}"</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-12 mb-16">
                        <div>
                            <h3 class="text-xl font-black text-slate-800 mb-6 flex items-center gap-2">ğŸ“Š í•µì‹¬ ë¶„ì„ ë°ì´í„°</h3>
                            <ul class="space-y-4">
                                ${scenario.data ? scenario.data.map(d => `<li class="flex items-center gap-3 text-slate-500 font-bold"><span class="w-1.5 h-1.5 bg-blue-600 rounded-full"></span>${d}</li>`).join('') : '<li class="text-slate-400">ë°ì´í„° ì¤€ë¹„ ì¤‘...</li>'}
                            </ul>
                        </div>
                        <div class="bg-blue-50 p-8 rounded-[2.5rem] border border-blue-100">
                            <h3 class="text-xl font-black text-blue-900 mb-4 flex items-center gap-2">ğŸ”¬ í•™ìˆ ì  ê·¼ê±°</h3>
                            <p class="text-blue-700 text-sm font-bold mb-4 leading-relaxed">${scenario.academic ? scenario.academic.desc : 'ì´ë¡ ì  ë°°ê²½ ì¤€ë¹„ ì¤‘...'}</p>
                            <div class="text-[10px] text-blue-400 font-black uppercase tracking-widest border-t border-blue-200 pt-4">
                                Reference: ${scenario.academic ? scenario.academic.paper : 'Pending'}
                            </div>
                        </div>
                    </div>

                    <h3 class="text-2xl font-black text-slate-900 mb-8 text-center">ì‹¤ì „ ë°ì´í„°ë¡œ ë„êµ¬ í™œìš©í•˜ê¸°</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        ${tools.map(t => `
                            <button onclick="window.ParanLabCore.tossData('${t.id}', '${scenario.id}')" class="p-6 bg-slate-50 hover:bg-blue-600 hover:text-white rounded-2xl border border-slate-100 transition-all group text-center">
                                <div class="text-3xl mb-3">${t.icon}</div>
                                <div class="font-black text-lg mb-1">${t.name}</div>
                                <p class="text-[10px] opacity-60 font-bold uppercase tracking-tighter">${t.category} Tool</p>
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }
    </script>
</body>
</html>
