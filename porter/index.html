<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5 Forces ì‚°ì—… ë§¤ë ¥ë„ ë¶„ì„ | íŒŒë€ë©</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/core.js" defer></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700;900&display=swap');
        body { font-family: 'Pretendard', sans-serif; }
    </style>
</head>
<body class="bg-slate-50">
    <div id="root">
        <div id="porter-app" class="max-w-4xl mx-auto py-10 px-4"></div>
    </div>

    <script type="text/babel">
        const { useState, useMemo } = React;

        function PorterApp() {
            const [step, setStep] = useState(1); // 1: ì£¼ì œ, 2: 5ê°€ì§€ ìš”ì¸ ì…ë ¥, 3: ê²°ê³¼
            const [subject, setSubject] = useState("");
            const [scores, setScores] = useState({
                rivalry: 5, // ê¸°ì¡´ ê²½ìŸ
                entrants: 5, // ì‹ ê·œ ì§„ì…
                substitutes: 5, // ëŒ€ì²´ì¬
                suppliers: 5, // ê³µê¸‰ì í˜‘ìƒë ¥
                buyers: 5 // êµ¬ë§¤ì í˜‘ìƒë ¥
            });

            const forces = [
                { id: 'rivalry', title: 'ê¸°ì¡´ ê²½ìŸì', q: 'í˜„ì¬ ì‹œì¥ ë‚´ ê²½ìŸì´ ì–¼ë§ˆë‚˜ ì¹˜ì—´í•œê°€ìš”?', desc: 'ê²½ìŸìê°€ ë§ê³  ê°€ê²© ì‹¸ì›€ì´ ì‹¬í• ìˆ˜ë¡ ì ìˆ˜ë¥¼ ë†’ê²Œ(ìœ„í—˜) ì£¼ì„¸ìš”.', color: 'bg-rose-50', text: 'text-rose-700', accent: 'accent-rose-600' },
                { id: 'entrants', title: 'ì‹ ê·œ ì§„ì…ì', q: 'ìƒˆë¡œìš´ ê²½ìŸìê°€ ë“¤ì–´ì˜¤ê¸° ì‰¬ìš´ê°€ìš”?', desc: 'ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ì‹œì‘í•  ìˆ˜ ìˆëŠ” ì‚¬ì—…ì¼ìˆ˜ë¡ ì ìˆ˜ë¥¼ ë†’ê²Œ ì£¼ì„¸ìš”.', color: 'bg-orange-50', text: 'text-orange-700', accent: 'accent-orange-600' },
                { id: 'substitutes', title: 'ëŒ€ì²´ì¬ì˜ ìœ„í˜‘', q: 'ë‚´ ì œí’ˆ ëŒ€ì‹  ì“¸ ìˆ˜ ìˆëŠ” ë‹¤ë¥¸ ì„œë¹„ìŠ¤ê°€ ë§ë‚˜ìš”?', desc: 'ê³ ê°ì´ ë‹¤ë¥¸ ëŒ€ì•ˆìœ¼ë¡œ ê°ˆì•„íƒ€ê¸° ì‰¬ìš¸ìˆ˜ë¡ ì ìˆ˜ë¥¼ ë†’ê²Œ ì£¼ì„¸ìš”.', color: 'bg-amber-50', text: 'text-amber-700', accent: 'accent-amber-600' },
                { id: 'suppliers', title: 'ê³µê¸‰ìì˜ í˜', q: 'ì›ì¬ë£Œë‚˜ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ì—…ì²´ê°€ ê°•ë ¥í•œê°€ìš”?', desc: 'ê³µê¸‰ì—…ì²´ê°€ ê°€ê²©ì„ ë§ˆìŒëŒ€ë¡œ ì˜¬ë¦´ ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¼ë©´ ì ìˆ˜ë¥¼ ë†’ê²Œ ì£¼ì„¸ìš”.', color: 'bg-blue-50', text: 'text-blue-700', accent: 'accent-blue-600' },
                { id: 'buyers', title: 'êµ¬ë§¤ìì˜ í˜', q: 'ê³ ê°(ì†Œë¹„ì)ì´ ê°€ê²© ê¹ê¸°ë¥¼ ìš”êµ¬í•˜ê¸° ì‰¬ìš´ê°€ìš”?', desc: 'ê³ ê°ì´ ì •ë³´ë¥¼ ë§ì´ ê°–ê³  ìˆê³  ì„ íƒê¶Œì´ ë„“ì„ìˆ˜ë¡ ì ìˆ˜ë¥¼ ë†’ê²Œ ì£¼ì„¸ìš”.', color: 'bg-indigo-50', text: 'text-indigo-700', accent: 'accent-indigo-600' }
            ];

            const totalRisk = useMemo(() => {
                const sum = Object.values(scores).reduce((a, b) => a + b, 0);
                return (sum / 50) * 100;
            }, [scores]);

            const saveAsHtml = () => {
                const htmlContent = `
                    <!DOCTYPE html>
                    <html>
                    <head><meta charset="UTF-8"><title>5 Forces ë¶„ì„ ë³´ê³ ì„œ</title><style>body{font-family:sans-serif;padding:40px;max-width:600px;margin:0 auto;}h1{border-bottom:4px solid #2563eb;padding-bottom:10px;}.box{padding:15px;border-radius:10px;margin-bottom:10px;background:#f8fafc;border:1px solid #eee;}</style></head>
                    <body>
                        <h1>ğŸ“Š 5 Forces ì‹œì¥ ë§¤ë ¥ë„ ë³´ê³ ì„œ</h1>
                        <p><strong>ë¶„ì„ ì‹œì¥:</strong> ${subject}</p>
                        <div class="box"><strong>ì‹œì¥ ìœ„í—˜ë„:</strong> ${totalRisk.toFixed(0)}%</div>
                        <p>â€» ì ìˆ˜ê°€ ë†’ì„ìˆ˜ë¡ ê²½ìŸì´ ì¹˜ì—´í•˜ê³  ìˆ˜ìµì„ ë‚´ê¸° ì–´ë ¤ìš´ ì‹œì¥ì…ë‹ˆë‹¤.</p>
                        <div style="font-size:12px; color:#999; text-align:center; margin-top:40px;">Â© 2025 Paran Lab.</div>
                    </body>
                    </html>
                `;
                const blob = new Blob([htmlContent], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `5forces_analysis_${new Date().getTime()}.html`;
                a.click();
            };

            return (
                <div className="animate-in fade-in duration-500">
                    {step === 1 && (
                        <div className="bg-white p-10 rounded-[3rem] shadow-2xl border border-slate-100 max-w-2xl mx-auto">
                            <h2 className="text-3xl font-black text-slate-900 mb-4">ì–´ë–¤ ì‹œì¥ì„ ë¶„ì„í• ê¹Œìš”?</h2>
                            <p className="text-slate-500 mb-10 font-medium">ì§„ì…í•˜ë ¤ëŠ” ì‚°ì—…ì´ë‚˜ í˜„ì¬ ìš´ì˜ ì¤‘ì¸ ì‚¬ì—… ë¶„ì•¼ë¥¼ ì ì–´ì£¼ì„¸ìš”.</p>
                            <input value={subject} onChange={(e)=>setSubject(e.target.value)} placeholder="ì˜ˆ: ë°°ë‹¬ ì•± ì‹œì¥, í”„ë¦¬ë¯¸ì—„ ë…ì„œì‹¤ ì‚¬ì—…" className="w-full p-6 bg-slate-50 border-4 border-transparent focus:border-blue-500 rounded-[2rem] outline-none text-xl font-black transition-all" />
                            <button onClick={()=>setStep(2)} className="w-full mt-10 py-6 bg-blue-600 text-white rounded-[2rem] font-black text-xl shadow-xl shadow-blue-200">ë¶„ì„ ì‹œì‘í•˜ê¸°</button>
                        </div>
                    )}

                    {step === 2 && (
                        <div className="space-y-8">
                            <div className="bg-white p-8 rounded-[3rem] shadow-2xl border border-slate-100">
                                <h2 className="text-2xl font-black text-slate-900 mb-2">5ê°€ì§€ ìœ„í˜‘ ìš”ì†Œ ì²´í¬</h2>
                                <p className="text-slate-500 mb-10 font-medium">ê° í•­ëª©ì˜ ìœ„í˜‘ ì •ë„ë¥¼ 10ì  ë§Œì ìœ¼ë¡œ í‘œì‹œí•˜ì„¸ìš”. (ë†’ì„ìˆ˜ë¡ ìœ„í—˜)</p>
                                
                                <div className="space-y-10">
                                    {forces.map((f) => (
                                        <div key={f.id} className={`${f.color} p-6 rounded-[2.5rem] border-2 border-white shadow-sm`}>
                                            <div className="flex justify-between items-center mb-4">
                                                <h3 className={`text-lg font-black ${f.text}`}>{f.title}</h3>
                                                <span className={`${f.text} font-black text-xl`}>{scores[f.id]}ì </span>
                                            </div>
                                            <p className="text-sm text-slate-600 font-bold mb-2">{f.q}</p>
                                            <p className="text-[10px] text-slate-400 mb-4 uppercase font-bold tracking-widest">{f.desc}</p>
                                            <input 
                                                type="range" min="1" max="10" value={scores[f.id]} 
                                                onChange={(e)=>setScores({...scores, [f.id]: parseInt(e.target.value)})}
                                                className={`w-full h-2 bg-white/50 rounded-lg appearance-none cursor-pointer ${f.accent}`}
                                            />
                                        </div>
                                    ))}
                                </div>
                            </div>
                            <div className="flex gap-4">
                                <button onClick={()=>setStep(1)} className="flex-1 py-6 bg-slate-100 text-slate-400 rounded-[2rem] font-black text-xl">ì´ì „</button>
                                <button onClick={()=>setStep(3)} className="flex-1 py-6 bg-blue-600 text-white rounded-[2rem] font-black text-xl shadow-xl shadow-blue-200">ìµœì¢… ë¦¬í¬íŠ¸ ë³´ê¸°</button>
                            </div>
                        </div>
                    )}

                    {step === 3 && (
                        <div className="bg-white p-10 rounded-[3rem] shadow-2xl border border-slate-100 text-center">
                            <h2 className="text-4xl font-black text-slate-900 mb-2 text-blue-600">ì‹œì¥ ë§¤ë ¥ë„ ë¦¬í¬íŠ¸</h2>
                            <p className="text-slate-500 mb-12 font-medium">ë¶„ì„ ê²°ê³¼, ì´ ì‹œì¥ì˜ ì¢…í•© ìœ„í—˜ë„ëŠ” <span className="text-rose-500 font-black">{totalRisk.toFixed(0)}%</span>ì…ë‹ˆë‹¤.</p>
                            
                            <div className="p-10 rounded-[2.5rem] mb-10 border-4 border-slate-100 bg-slate-50">
                                <h3 className="text-xl font-black text-slate-800 mb-6">ğŸ’¡ ì „ë¬¸ê°€ì˜ ì¡°ì–¸</h3>
                                <p className="text-lg font-medium leading-relaxed text-slate-600">
                                    {totalRisk >= 70 ? "ê²½ìŸì´ ë§¤ìš° ì¹˜ì—´í•˜ê³  ìˆ˜ìµì„ ë‚´ê¸° í˜ë“  'ë ˆë“œì˜¤ì…˜'ì…ë‹ˆë‹¤. ë…ë³´ì ì¸ ì°¨ë³„í™” ì „ëµ ì—†ì´ëŠ” ì§„ì…ì„ ì¬ê³ í•´ì•¼ í•©ë‹ˆë‹¤." :
                                     totalRisk >= 40 ? "ì ë‹¹í•œ ê²½ìŸì´ ì¡´ì¬í•˜ëŠ” ì‹œì¥ì…ë‹ˆë‹¤. íŠ¹ì • íƒ€ê²Ÿì„ ê³µëµí•˜ëŠ” ë‹ˆì¹˜ ë§ˆì¼“ ì „ëµì´ ìœ íš¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." :
                                     "ë§¤ìš° ë§¤ë ¥ì ì¸ ì‹œì¥ì…ë‹ˆë‹¤! ê²½ìŸìê°€ ì ê±°ë‚˜ ë‚´ê°€ ì£¼ë„ê¶Œì„ ì¥ê¸° ì‰¬ìš´ í™˜ê²½ì´ë‹ˆ ë¹ ë¥´ê²Œ ì„ ì í•˜ì„¸ìš”."}
                                </p>
                            </div>

                            <div className="grid grid-cols-1 gap-4">
                                <button onClick={saveAsHtml} className="py-6 bg-slate-900 text-white rounded-[2rem] font-black text-xl shadow-xl">ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ (.html)</button>
                                <button onClick={()=>setStep(2)} className="py-6 bg-slate-100 text-slate-400 rounded-[2rem] font-black text-xl">ë‹¤ì‹œ ìˆ˜ì •í•˜ê¸°</button>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        ReactDOM.createRoot(document.getElementById('porter-app')).render(<PorterApp />);
    </script>
</body>
</html>
