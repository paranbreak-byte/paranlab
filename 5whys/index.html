<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5 Whys 분석 | 문제 해결을 위한 근본 원인 분석 도구 | 파란랩</title>
    <meta name="description" content="반복되는 문제의 뿌리를 뽑으세요. 5 Whys 기법을 통해 현상 뒤에 숨겨진 진짜 원인을 찾아내고 완벽한 해결책을 도출하는 실전 가이드를 제공합니다.">
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="/core.js" defer></script>
    <style>@import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700;900&display=swap'); body{font-family:'Pretendard',sans-serif;}</style>
</head>
<body class="bg-slate-50">
    <div id="root">
        <div id="app-container" class="max-w-2xl mx-auto py-10 px-4"></div>
        <section id="seo-content" class="max-w-2xl mx-auto px-6 py-12 mt-10 border-t border-slate-200 no-print text-slate-600 leading-relaxed space-y-4">
            <h2 class="text-2xl font-black text-slate-800 mb-6">5 Whys 분석으로 문제의 본질을 꿰뚫는 법</h2>
            <p><strong>5 Whys 분석</strong>은 단순히 "왜?"라고 묻는 것이 아닙니다. 각 단계의 답변이 다음 질문의 근거가 되는 논리적 사슬을 만드는 과정입니다. 이 기법을 통해 우리는 임시방편이 아닌, 문제를 영구적으로 해결할 수 있는 '근본 원인'에 도달하게 됩니다.</p>
            <h3 class="text-lg font-bold text-slate-700 mt-8">실전 활용 사례</h3>
            <ul class="list-disc list-inside space-y-2">
                <li><strong>업무 실수:</strong> 왜 보고서 수치가 틀렸나? → 왜 검토 시간이 부족했나? → 왜 업무가 몰렸나?</li>
                <li><strong>개인 습관:</strong> 왜 자꾸 늦잠을 자나? → 왜 밤에 늦게 자나? → 왜 스마트폰을 보나?</li>
            </ul>
        </section>
    </div>
    <script type="text/babel">
        const { useState, useEffect } = React;
        function WhysApp() {
            const saved = JSON.parse(localStorage.getItem('paranlab-5whys') || '{}');
            const [step, setStep] = useState(saved.step || 0);
            const [problem, setProblem] = useState(saved.problem || "");
            const [whys, setWhys] = useState(saved.whys || ["", "", "", "", ""]);

            useEffect(() => { if (ParanLabCore.isAutoSaveEnabled()) localStorage.setItem('paranlab-5whys', JSON.stringify({ step, problem, whys })); }, [step, problem, whys]);

            const applyTemplate = () => {
                setProblem("이번 달 카드값이 너무 많이 나왔다");
                setStep(1);
            };

            return (
                <div className="animate-in fade-in duration-500">
                    {step <= 5 ? (
                        <div className="bg-white p-10 rounded-[3rem] shadow-2xl border border-slate-100">
                            {step === 0 ? (
                                <div className="text-center">
                                    <h2 className="text-3xl font-black text-slate-900 mb-4">어떤 문제가 발생했나요?</h2>
                                    <input value={problem} onChange={(e)=>setProblem(e.target.value)} placeholder="예: 업무 실수가 잦아졌다" className="w-full p-6 bg-slate-50 border-4 border-transparent focus:border-violet-500 rounded-[2rem] outline-none text-xl font-black mb-8" />
                                    <div className="flex flex-col gap-4">
                                        <button onClick={()=>setStep(1)} className="w-full py-6 bg-violet-600 text-white rounded-[2rem] font-black text-xl shadow-xl">분석 시작하기</button>
                                        <button onClick={applyTemplate} className="text-violet-600 font-bold underline">생활 밀착형 예시 불러오기</button>
                                    </div>
                                </div>
                            ) : (
                                <div>
                                    <div className="flex items-center gap-4 mb-6"><span className="w-12 h-12 bg-violet-100 text-violet-600 rounded-2xl flex items-center justify-center font-black text-xl">{step}</span><h2 className="text-2xl font-black text-slate-900">왜 그런 일이 일어났나요?</h2></div>
                                    <div className="p-6 bg-slate-50 rounded-2xl mb-8 border border-slate-100 italic text-slate-500">"{step === 1 ? problem : whys[step-2]}"</div>
                                    <textarea value={whys[step-1]} onChange={(e)=>{const n=[...whys]; n[step-1]=e.target.value; setWhys(n);}} placeholder="이유를 적어주세요..." className="w-full h-32 p-6 bg-white border-2 border-slate-100 focus:border-violet-500 rounded-2xl outline-none text-lg font-bold resize-none" />
                                    <div className="flex gap-4 mt-10"><button onClick={()=>setStep(step-1)} className="flex-1 py-6 bg-slate-100 text-slate-400 rounded-[2rem] font-black text-xl">이전</button><button onClick={()=>setStep(step+1)} className="flex-1 py-6 bg-violet-600 text-white rounded-[2rem] font-black text-xl shadow-xl">{step === 5 ? "결과 보기" : "다음"}</button></div>
                                </div>
                            )}
                        </div>
                    ) : (
                        <div className="space-y-6">
                            <div id="report-card" className="bg-white p-10 rounded-[3rem] shadow-2xl border border-slate-100 text-center">
                                <h2 className="text-3xl font-black text-slate-900 mb-10">5 Whys 분석 리포트</h2>
                                <div className="space-y-4 mb-10 text-left">
                                    {whys.map((w, i) => (
                                        <div key={i} className="flex gap-4 items-start"><div className="w-8 h-8 bg-violet-50 text-violet-400 rounded-lg flex-shrink-0 flex items-center justify-center text-xs font-black">{i+1}</div><div className={`p-4 rounded-2xl flex-1 font-bold ${i === 4 ? 'bg-violet-600 text-white shadow-lg' : 'bg-slate-50 text-slate-600'}`}>{w}</div></div>
                                    ))}
                                </div>
                                <div className="p-6 bg-violet-50 rounded-2xl border-2 border-dashed border-violet-200">
                                    <h4 className="font-black text-violet-900 mb-2">💡 최종 솔루션</h4>
                                    <p className="text-violet-700 font-medium">가장 하단의 <strong>[{whys[4]}]</strong> 요인을 해결하는 데 집중하세요.</p>
                                </div>
                            </div>
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-4 no-print">
                                <button onClick={()=>ParanLabCore.saveAsImage('report-card', '5whys-report')} className="py-5 bg-slate-900 text-white rounded-2xl font-black text-sm shadow-xl flex items-center justify-center gap-2">🖼️ 이미지 저장</button>
                                <button onClick={()=>ParanLabCore.copyToClipboard(`[5 Whys 분석 결과]\n문제: ${problem}\n근본원인: ${whys[4]}`)} className="py-5 bg-emerald-600 text-white rounded-2xl font-black text-sm shadow-xl flex items-center justify-center gap-2">📋 결과 복사</button>
                                <button onClick={()=>setStep(0)} className="py-5 bg-slate-100 text-slate-400 rounded-2xl font-black text-sm">다시 하기</button>
                            </div>
                        </div>
                    )}
                </div>
            );
        }
        ReactDOM.createRoot(document.getElementById('app-container')).render(<WhysApp />);
    </script>
</body>
</html>
